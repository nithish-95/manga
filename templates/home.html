{{ define "content" }}
<div class="mb-6">
  <form action="/" method="get" class="flex">
    <input type="text" name="search" placeholder="Search Manga..." class="flex-1 p-2 border border-gray-300 rounded-l">
    <button type="submit" class="bg-blue-500 text-white p-2 rounded-r">Search</button>
  </form>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
  {{ range .Mangas }}
  <div class="bg-white p-4 rounded shadow flex flex-col">
    {{ if .Attributes.CoverURL }}
      <img src="/image-proxy?url={{ .Attributes.CoverURL }}" alt="{{ index .Attributes.Title "en" }}" class="mb-2 h-64 object-cover rounded">
    {{ else }}
      <div class="mb-2 h-64 bg-gray-200 flex items-center justify-center rounded">
        <span class="text-gray-500">No Cover</span>
      </div>
    {{ end }}
    <h2 class="text-lg font-bold mb-2">{{ index .Attributes.Title "en" }}</h2>
    <a href="/manga/{{ .ID }}" class="text-blue-500 hover:underline mt-auto">View Details</a>
  </div>
  {{ else }}
  <p class="col-span-3">No manga found. Try a different search.</p>
  {{ end }}
</div>
{{ end }}
